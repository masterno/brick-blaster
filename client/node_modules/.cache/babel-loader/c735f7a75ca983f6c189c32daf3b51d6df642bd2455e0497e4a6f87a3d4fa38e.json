{"ast":null,"code":"class Ball {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.radius = 8;\n    this.speed = 300; // Adjusted speed for smoother movement\n    this.dx = 0;\n    this.dy = 0;\n    this.isLaunched = false;\n    this.canvasWidth = 800;\n    this.canvasHeight = 600;\n  }\n  launch() {\n    if (!this.isLaunched) {\n      this.isLaunched = true;\n      // Launch at -60 degrees (upward angle)\n      const angle = -Math.PI / 3;\n      this.dx = this.speed * Math.cos(angle);\n      this.dy = this.speed * Math.sin(angle);\n    }\n  }\n  update(deltaTime) {\n    if (this.isLaunched) {\n      // Update position\n      this.x += this.dx * deltaTime;\n      this.y += this.dy * deltaTime;\n\n      // Bounce off walls\n      if (this.x - this.radius <= 0) {\n        this.x = this.radius;\n        this.dx = Math.abs(this.dx);\n      } else if (this.x + this.radius >= this.canvasWidth) {\n        this.x = this.canvasWidth - this.radius;\n        this.dx = -Math.abs(this.dx);\n      }\n      if (this.y - this.radius <= 0) {\n        this.y = this.radius;\n        this.dy = Math.abs(this.dy);\n      }\n    }\n  }\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(Math.round(this.x), Math.round(this.y), this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = '#00FF00';\n    ctx.fill();\n    ctx.closePath();\n  }\n  reset() {\n    this.isLaunched = false;\n    this.dx = 0;\n    this.dy = 0;\n  }\n  stickToPaddle(paddle) {\n    this.x = paddle.x + paddle.width / 2;\n    this.y = paddle.y - this.radius;\n  }\n  checkPaddleCollision(paddle) {\n    if (!this.isLaunched) return false;\n    return this.x + this.radius > paddle.x && this.x - this.radius < paddle.x + paddle.width && this.y + this.radius > paddle.y && this.y - this.radius < paddle.y + paddle.height;\n  }\n  bounceOffPaddle(paddle) {\n    // Calculate hit position relative to paddle center (-1 to 1)\n    const hitX = (this.x - (paddle.x + paddle.width / 2)) / (paddle.width / 2);\n\n    // Calculate bounce angle (-60 to 60 degrees)\n    const maxAngle = Math.PI / 3; // 60 degrees\n    const angle = hitX * maxAngle;\n\n    // Set new velocity maintaining speed\n    this.dy = -Math.abs(this.speed * Math.cos(angle));\n    this.dx = this.speed * Math.sin(angle);\n\n    // Ensure ball is above paddle\n    this.y = paddle.y - this.radius;\n  }\n  checkBrickCollision(brick) {\n    if (!this.isLaunched || brick.isDestroyed()) return false;\n    return this.x + this.radius > brick.x && this.x - this.radius < brick.x + brick.width && this.y + this.radius > brick.y && this.y - this.radius < brick.y + brick.height;\n  }\n  bounceOffBrick(brick) {\n    // Calculate collision point relative to brick center\n    const relX = this.x - (brick.x + brick.width / 2);\n    const relY = this.y - (brick.y + brick.height / 2);\n\n    // Determine if collision is more horizontal or vertical\n    if (Math.abs(relX) * brick.height > Math.abs(relY) * brick.width) {\n      // Horizontal collision\n      this.dx = -this.dx;\n    } else {\n      // Vertical collision\n      this.dy = -this.dy;\n    }\n  }\n}\nexport default Ball;","map":{"version":3,"names":["Ball","constructor","x","y","radius","speed","dx","dy","isLaunched","canvasWidth","canvasHeight","launch","angle","Math","PI","cos","sin","update","deltaTime","abs","draw","ctx","beginPath","arc","round","fillStyle","fill","closePath","reset","stickToPaddle","paddle","width","checkPaddleCollision","height","bounceOffPaddle","hitX","maxAngle","checkBrickCollision","brick","isDestroyed","bounceOffBrick","relX","relY"],"sources":["C:/Users/noahm/OneDrive/Desktop/Coding/brick_blaster2/client/src/components/Game/entities/Ball.js"],"sourcesContent":["class Ball {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.radius = 8;\n    this.speed = 300; // Adjusted speed for smoother movement\n    this.dx = 0;\n    this.dy = 0;\n    this.isLaunched = false;\n    this.canvasWidth = 800;\n    this.canvasHeight = 600;\n  }\n\n  launch() {\n    if (!this.isLaunched) {\n      this.isLaunched = true;\n      // Launch at -60 degrees (upward angle)\n      const angle = -Math.PI / 3;\n      this.dx = this.speed * Math.cos(angle);\n      this.dy = this.speed * Math.sin(angle);\n    }\n  }\n\n  update(deltaTime) {\n    if (this.isLaunched) {\n      // Update position\n      this.x += this.dx * deltaTime;\n      this.y += this.dy * deltaTime;\n\n      // Bounce off walls\n      if (this.x - this.radius <= 0) {\n        this.x = this.radius;\n        this.dx = Math.abs(this.dx);\n      } else if (this.x + this.radius >= this.canvasWidth) {\n        this.x = this.canvasWidth - this.radius;\n        this.dx = -Math.abs(this.dx);\n      }\n\n      if (this.y - this.radius <= 0) {\n        this.y = this.radius;\n        this.dy = Math.abs(this.dy);\n      }\n    }\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(Math.round(this.x), Math.round(this.y), this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = '#00FF00';\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  reset() {\n    this.isLaunched = false;\n    this.dx = 0;\n    this.dy = 0;\n  }\n\n  stickToPaddle(paddle) {\n    this.x = paddle.x + paddle.width / 2;\n    this.y = paddle.y - this.radius;\n  }\n\n  checkPaddleCollision(paddle) {\n    if (!this.isLaunched) return false;\n\n    return (this.x + this.radius > paddle.x &&\n            this.x - this.radius < paddle.x + paddle.width &&\n            this.y + this.radius > paddle.y &&\n            this.y - this.radius < paddle.y + paddle.height);\n  }\n\n  bounceOffPaddle(paddle) {\n    // Calculate hit position relative to paddle center (-1 to 1)\n    const hitX = (this.x - (paddle.x + paddle.width / 2)) / (paddle.width / 2);\n    \n    // Calculate bounce angle (-60 to 60 degrees)\n    const maxAngle = Math.PI / 3; // 60 degrees\n    const angle = hitX * maxAngle;\n    \n    // Set new velocity maintaining speed\n    this.dy = -Math.abs(this.speed * Math.cos(angle));\n    this.dx = this.speed * Math.sin(angle);\n    \n    // Ensure ball is above paddle\n    this.y = paddle.y - this.radius;\n  }\n\n  checkBrickCollision(brick) {\n    if (!this.isLaunched || brick.isDestroyed()) return false;\n\n    return (this.x + this.radius > brick.x &&\n            this.x - this.radius < brick.x + brick.width &&\n            this.y + this.radius > brick.y &&\n            this.y - this.radius < brick.y + brick.height);\n  }\n\n  bounceOffBrick(brick) {\n    // Calculate collision point relative to brick center\n    const relX = this.x - (brick.x + brick.width / 2);\n    const relY = this.y - (brick.y + brick.height / 2);\n\n    // Determine if collision is more horizontal or vertical\n    if (Math.abs(relX) * brick.height > Math.abs(relY) * brick.width) {\n      // Horizontal collision\n      this.dx = -this.dx;\n    } else {\n      // Vertical collision\n      this.dy = -this.dy;\n    }\n  }\n}\n\nexport default Ball;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}